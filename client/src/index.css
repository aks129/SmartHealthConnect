@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Apple Health inspired color palette */
    --background: 0 0% 100%;
    --foreground: 224 15% 15%;
    --card: 0 0% 100%;
    --card-foreground: 224 15% 15%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 15% 15%;
    --primary: 214 100% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 14% 96%;
    --secondary-foreground: 224 15% 15%;
    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 46%;
    --accent: 220 14% 96%;
    --accent-foreground: 224 15% 15%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 214 100% 50%;
    --radius: 1rem;

    /* Health-specific color system */
    --health-primary: 214 100% 50%;      /* Clean blue */
    --health-vitals: 142 76% 36%;        /* Fresh green for vitals */
    --health-preventive: 142 87% 24%;    /* Darker green for preventive care */
    --health-warning: 45 93% 47%;        /* Amber for warnings */
    --health-critical: 0 84% 60%;        /* Red for critical */
    --health-lab: 262 83% 58%;           /* Purple for lab results */
    --health-medication: 217 91% 60%;    /* Light blue for medications */
    --health-neutral: 220 9% 46%;        /* Gray for neutral info */

    /* Chart colors - health focused */
    --chart-1: 214 100% 50%;  /* Primary blue */
    --chart-2: 142 76% 36%;   /* Health green */
    --chart-3: 262 83% 58%;   /* Lab purple */
    --chart-4: 45 93% 47%;    /* Warning amber */
    --chart-5: 0 84% 60%;     /* Critical red */
  }

  .dark {
    --background: 224 71% 4%;
    --foreground: 213 31% 91%;
    --card: 224 71% 4%;
    --card-foreground: 213 31% 91%;
    --popover: 224 71% 4%;
    --popover-foreground: 213 31% 91%;
    --primary: 214 100% 50%;
    --primary-foreground: 224 71% 4%;
    --secondary: 215 28% 17%;
    --secondary-foreground: 213 31% 91%;
    --muted: 215 28% 17%;
    --muted-foreground: 217 10% 65%;
    --accent: 215 28% 17%;
    --accent-foreground: 213 31% 91%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 213 31% 91%;
    --border: 215 28% 17%;
    --input: 215 28% 17%;
    --ring: 216 34% 17%;
    --chart-1: 214 100% 50%;
    --chart-2: 142 76% 36%;
    --chart-3: 262 83% 58%;
    --chart-4: 45 93% 47%;
    --chart-5: 0 84% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-slate-50 text-foreground font-sans antialiased;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  }

  /* Improved scrollbar styling */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-slate-50;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-slate-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-400;
  }
}

@layer components {
  /* Health metric cards */
  .health-card {
    @apply bg-white rounded-2xl shadow-sm border border-slate-100 p-6 transition-all duration-200 hover:shadow-md hover:border-slate-200;
  }

  .health-card-compact {
    @apply bg-white rounded-xl shadow-sm border border-slate-100 p-4 transition-all duration-200 hover:shadow-md;
  }

  /* Status indicators using health-specific colors */
  .status-normal {
    @apply bg-[--health-vitals]/10 text-[--health-vitals] border-[--health-vitals]/30;
  }

  .status-warning {
    @apply bg-[--health-warning]/10 text-[--health-warning] border-[--health-warning]/30;
  }

  .status-critical {
    @apply bg-[--health-critical]/10 text-[--health-critical] border-[--health-critical]/30;
  }

  .status-info {
    @apply bg-[--health-primary]/10 text-[--health-primary] border-[--health-primary]/30;
  }

  /* Modern button styles using health palette */
  .btn-health-primary {
    @apply bg-health-primary hover:bg-health-primary/90 text-primary-foreground rounded-xl px-6 py-3 font-medium transition-all duration-200 shadow-sm hover:shadow-md;
  }

  .btn-health-secondary {
    @apply bg-secondary hover:bg-secondary-foreground/80 text-secondary-foreground rounded-xl px-6 py-3 font-medium transition-all duration-200;
  }

  /* Layout utilities with modern spacing and grid */
  .container-health {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .grid-health-summary {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6;
  }

  .grid-health-detailed {
    @apply grid grid-cols-1 lg:grid-cols-2 gap-8;
  }

  /* Typography improvements for clarity and modern feel */
  .text-health-title {
    @apply text-3xl font-bold text-foreground mb-3;
  }

  .text-health-subtitle {
    @apply text-xl font-semibold text-muted-foreground mb-4;
  }

  .text-health-body {
    @apply text-base text-muted-foreground leading-relaxed;
  }

  .text-health-caption {
    @apply text-sm text-muted-foreground font-medium;
  }
}

/* Chart container styling */
.chart-container {
  @apply bg-card rounded-2xl p-6 shadow-sm border border-border;
}

.chart-legend {
  @apply flex flex-wrap gap-4 justify-center mt-4;
}

.chart-legend-item {
  @apply flex items-center gap-2 text-sm text-muted-foreground;
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .health-card {
    @apply p-4 rounded-xl;
  }

  .grid-health-summary {
    @apply grid-cols-1 gap-4;
  }

  .grid-health-detailed {
    @apply grid-cols-1 gap-6;
  }
}

/* Focus states for accessibility */
.health-card:focus-within {
  @apply ring-2 ring-primary ring-opacity-20;
}

button:focus-visible {
  @apply ring-2 ring-primary ring-opacity-50 outline-none;
}